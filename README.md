# OpenGL_Realtime

For the final project in CSE 168, I created a real-time renderer in OpenGL using GLSL programmable shaders. The renderer is able to load in objects and display them with diffuse, specular, normal, and roughness maps using a Cook-Tolerance BRDF to calculate lighting. The renderer can also calculate shadows for multiple point lights in a scene. Finally, skyboxes can be added as well and environmentally mapped to reflective objects in the scene.
For the base renderer, I used GLFW and GLAD for access to OpenGL function calls and the ability to easily create a window. I also used GLM for all math operations. I first created a set of classes to have vertex buffer, index buffer, and shader creation to abstract out many of the numerous OpenGL function calls. I then created a mesh class to contain these and a model class to handle object transformations. After drawing basic shapes to the screen, I then moved on to adding texture support. For image loading, I used the stb_image library which could load both standard image files as well as HDR images. Finally, to load in more complex models I used the Assimp library. I created a series of functions to parse the vertex data given by it, but I was unable to get texture files so I ended up handling this manually on a case-by-case basis for each model.
Next, I began working on shadow and environmental maps. For the shadows, I implemented shadow maps for point lights by saving depth values from the light's perspective to a cube map and then comparing these to the depth values from the camera's perspective during the final rendering. For antialiasing the final shadow, I implemented percentage closer filtering. To increase performance, I created an array of predefined offsets to reduce the number of samples being taken. For environmental maps, I first used a simple shader to convert the two-dimensional hdr images into a cube map. This cube map was then sent to the final model rending shaders and a reflection vector was used to look up its data.
Up to this point, I had been using the basic Phong lighting model to light up each scene. It was at this time that I began to implement a cook-tolerance BRDF to handle direct lighting. During this same time, I changed the shaders so that all rendering was done using the texture maps. The diffuse, specular, and roughness of an object were all determined by their respective texture maps. I also added in normal map support which altered vertex normals slightly for each fragment to increase the detail on models when they were lighted or reflecting an environment map.
If I had more time on the assignment, I would have implemented proper image-based lighting for environmental maps. In the final project, the environmental map is only factored into the ambient lighting at the end of the shader and its influence is determined by the specular map. While this works, I would have liked to have implemented a more realistic effect.
Below are images and videos of the renderer in action. In order to record the videos, the resolution of the window needed to be lowered dramatically so the images are here as a supplement. When not recording, all scenes ran very smooth at far higher window and shadow resolutions.
